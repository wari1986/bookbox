


<div class="index-container my-12 mx-auto px-4 md:px-12 bg-white">
  <div class="search-container">
    <%= form_tag books_path, method: :get do %>
    <%= text_field_tag :query,
      params[:query],
    class: "form-control",
    placeholder: "Find a book"
    %>
    <%= submit_tag "Search", class: "" %>
    <% end %>
  </div>
<div class="flex my-16">
  <div class="info w-1/4 text-lg bg-white">
    <button class="flex justify-center m-8 px-8 py-2 rounded text-white bold bg-indigo-400 mx-auto" id="create_button"><%=link_to "Add a Book", new_book_path %></button>
    <div class="m-8 py-8">
      <h1 class='text-xl my-4'>Categories</h1>
      <ul>
        <li>Category Name</li>
        <li>Category Name</li>
        <li>Category Name</li>
        <li>Category Name</li>
      </ul>
    </div>
    <div class="m-8 py-8">
      <h1 class='text-xl my-4'>Rating</h1>
      <ul>
        <li>stars</li>
        <li>stars</li>
        <li>stars</li>
        <li>stars</li>
      </ul>
  </div>
  <div class="info w-3/4">
    <div class="grid grid-cols-3 gap-4 md:grid-cols-2">
      <% @books.each do |book| %>
      <div class="flex mx-auto">
        <div class="w-1/2 flex ">
          <img class='w-full align-middle object-fit' src="<%= book.cover %>" alt="book cover">
        </div>
        <div class=" w-1/2 my-auto mx-4 leading-tight md:p-4">
          <h2 class="text-gray-600"><%=book.author %></h2>
          <h1 class="text-2xl bold-700"><%=link_to book.title, book_path(book) %></h1>
          <%# <h2 class="text-xl bold"><%=book.average_rating %></h2>
          <h2 class="text-gray-600 py-4"><%=book.description.truncate_words(25) %></h2>
          <button class="w-full m-8 px-8 py-2 rounded text-indigo-600 bold bg-white mx-auto border-solid border-2 border-indigo-600" id="create_button"><%=link_to "Get this book!", new_book_path %></button>
        </div>
      </div>
      <% end %>
    </div>
  </div>

  <div class="map-container col-sm">
      <div id="map"
        style="width: 100%; height: 100%;"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
  </div>
</div>
