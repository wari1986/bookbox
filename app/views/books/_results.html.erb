<div data-books-target="results" class="grid gap-8 xl:grid-cols-4 mx-0 lg:grid-cols-3 sm:max-w-sm sm:mx-auto lg:max-w-full">
  <% @books.each_with_index do |book, index| %>
    <div class="overflow-hidden transition-shadow duration-300 bg-white rounded shadow-sm border pt-4">
      <img class='object-cover mx-auto h-64 md:w-2/3' src="<%= book.cover %>" alt="book cover">
      <div class="px-5 pt-5">
        <p class="text-sm mb-2 text-gray-700"><%=book.author %></p>
        <p class="text-lg  mb-3 font-semibold tracking-wide uppercase h-16 "><%=link_to book.title, book_path(book) %></p>
        <% unless current_user.address.nil? %>
          <% if @index_distances[index] > 1 %>
            <p class="text-gray-600 py-2"> <%= @index_distances[index] %> km</p>
          <% else %>
            <p class="text-gray-600 py-2"> < 1 km</p>
          <% end %>
        <% end %>
        <button class="w-full m-4 px-8 py-2 rounded text-indigo-600 bold bg-white mx-auto border-solid border-2 border-indigo-600 hover:bg-indigo-400 hover:text-white"><%=link_to "Get this book!", new_book_swap_path(book) %></button>
      </div>
    </div>
  <% end %>
</div>
